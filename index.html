<!DOCTYPE html>
<html lang="fa" dir="rtl">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <title>ุฏุณุชุงุฑ ููุดููุฏ ฺฏุงูุงู | Plant Expert</title>
    <link href="https://cdn.jsdelivr.net/gh/rastikerdar/vazirmatn@v33.003/Vazirmatn-font-face.css" rel="stylesheet" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
    <link rel="stylesheet" href="styles.css" />
    <link rel="manifest" href="manifest.json">
  </head>
  <body>
    
    <div class="main-content">
      <!-- ุชุจ ุฏุงูุดูุงูู -->
      <section id="tab-home" class="tab-section active">
        <header>
            <h1><i class="fas fa-leaf"></i> ุฏุงูุดูุงูู ฺฏุงูุงู</h1>
        </header>
        <div class="controls-wrapper">
            <div class="search-box">
                <i class="fas fa-search search-icon"></i>
                <!-- ุชูุฌู: ุชูุงุจุน ุจู window.app ูุชุตู ูโุดููุฏ -->
                <input type="text" id="search-input" placeholder="ุฌุณุชุฌู..." oninput="app.filterPlants()">
                <button class="clear-btn" onclick="app.clearSearch()"><i class="fas fa-times"></i></button>
            </div>
            <div class="filters">
                <div><label>ุฏุณุชู:</label><select id="group-filter" onchange="app.filterPlants()"></select></div>
                <div><label>ููุฑ:</label><select id="light-filter" onchange="app.filterPlants()"></select></div>
            </div>
            <label style="font-size:0.9rem; color:#666">ูุชุงุฌ:</label>
            <select id="plant-selector" onchange="app.displayPlantInfo()"></select>
        </div>
        <div id="results"><div class="empty-state"><i class="fas fa-seedling"></i><p>ฺฏุงู ุฑุง ุงูุชุฎุงุจ ฺฉูุฏ.</p></div></div>
      </section>

      <!-- ุชุจ ุจุงุบฺู -->
      <section id="tab-garden" class="tab-section" style="display: none;">
        <header><h1><i class="fas fa-home"></i> ุจุงุบฺู ูู</h1></header>
        <div id="my-garden-list" class="garden-grid"></div>
        <button class="fab-add" onclick="app.switchTab('home')"><i class="fas fa-plus"></i> ุงูุฒูุฏู ฺฏุงู</button>
      </section>

      <!-- ุชุจ ุขููุฒุด -->
      <section id="tab-edu" class="tab-section" style="display: none;">
        <header><h1><i class="fas fa-graduation-cap"></i> ุขููุฒุด</h1></header>
        <div id="edu-content" class="edu-grid"></div>
      </section>

      <!-- ุชุจ ุชูุธูุงุช -->
      <section id="tab-settings" class="tab-section" style="display: none;">
        <header><h1><i class="fas fa-cog"></i> ุชูุธูุงุช</h1></header>
        <div class="settings-container">
            <div class="setting-item">
                <div class="setting-label"><i class="fas fa-moon"></i> ุญุงูุช ุดุจ</div>
                <label class="switch"><input type="checkbox" id="dark-mode-toggle" onchange="app.toggleDarkMode()"><span class="slider round"></span></label>
            </div>
            <div class="setting-item" style="flex-direction:column; gap:10px">
                <div class="setting-label"><i class="fas fa-database"></i> ูุฏุฑุช ุฏุงุฏู</div>
                <div style="display:flex; gap:10px; width:100%">
                    <button onclick="app.backupData()" class="btn-backup"><i class="fas fa-download"></i> ุฏุงูููุฏ</button>
                    <button onclick="app.triggerRestore()" class="btn-restore"><i class="fas fa-upload"></i> ุจุงุฒฺฏุฑุฏุงู</button>
                </div>
                <input type="file" id="restore-input" style="display:none" accept=".json" onchange="app.restoreData(this)">
            </div>
        </div>
         <div class="setting-item developer-card">
                <div class="dev-avatar">
                    <i class="fas fa-user-tie"></i>
                </div>
                
                <h3 class="dev-name">ูุฑุชุถ ุนุจุฏ</h3>
                <span class="dev-title">ุชูุณุนูโุฏููุฏู ู ุทุฑุงุญ ูุฑูโุงูุฒุงุฑ</span>
                
                <a href="mailto:morteza.abdi@gmail.com" class="dev-email">
                    <i class="fas fa-envelope"></i> morteza.abdi@gmail.com
                </a>

                <div class="app-version-info">
                    <span class="version-tag">ูุณุฎู 1.0.0</span>
                    <p>ุชูุงู ุญููู ูุญููุธ ุงุณุช ยฉ 2025</p>
                </div>
            </div>
      </section>
    </div>

    <!-- ููุงุฑ ูุงูุจุฑ -->
    <nav class="bottom-nav">
        <button class="nav-item active" onclick="app.switchTab('home')"><i class="fas fa-search"></i><span>ุฏุงูุดูุงูู</span></button>
        <button class="nav-item" onclick="app.switchTab('garden')"><i class="fas fa-seedling"></i><span>ุจุงุบฺู</span></button>
        <button class="nav-item" onclick="app.switchTab('edu')"><i class="fas fa-book-open"></i><span>ุขููุฒุด</span></button>
        <button class="nav-item" onclick="app.switchTab('settings')"><i class="fas fa-cog"></i><span>ุชูุธูุงุช</span></button>
    </nav>

    <!-- ููุฏุงูโูุง -->
    <div id="add-modal" class="modal">
        <div class="modal-content">
            <h3>ุงูุฒูุฏู ุจู ุจุงุบฺู</h3>
            <input type="text" id="modal-nickname" placeholder="ูุงู ุฏูุฎูุงู">
            <input type="number" id="modal-days" value="7" placeholder="ุฏูุฑู ุขุจุงุฑ">
            <div class="modal-actions">
                <button onclick="app.closeModal('add-modal')" class="btn-cancel">ูุบู</button>
                <button onclick="app.confirmAddToGarden()" class="btn-confirm">ุฐุฎุฑู</button>
            </div>
        </div>
    </div>

    <div id="wiki-modal" class="modal">
        <div class="modal-content" style="max-height:85vh; overflow-y:auto">
            <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:15px">
                <h3 id="wiki-title-modal" style="margin:0; color:var(--info-blue)">ุฏุงูุดูุงูู ุขููุงู</h3>
                <button onclick="app.closeModal('wiki-modal')" class="close-btn"><i class="fas fa-times"></i></button>
            </div>
            <div id="wiki-loading" style="text-align:center"><i class="fas fa-spinner fa-spin"></i> ุฏุฑ ุญุงู ุงุชุตุงู...</div>
            <div id="wiki-result" style="display:none">
                <img id="wiki-image" src="" style="width:100%; border-radius:10px; margin-bottom:10px; display:none">
                <p id="wiki-extract" style="text-align:justify"></p>
                <a id="wiki-link" href="#" target="_blank" class="btn-confirm" style="display:block; text-align:center; margin-top:10px; background:var(--info-blue)">ูุทุงูุนู ฺฉุงูู</a>
            </div>
            <div id="wiki-error" style="display:none; text-align:center; color:red">ุฎุทุง ุฏุฑ ุงุชุตุงู</div>
        </div>
    </div>
    
    <!-- ููุฏุงู ุฏูุชุฑฺู -->
    <div id="diary-modal" class="modal">
        <div class="modal-content diary-content">
            <div class="diary-header">
                <h3 id="diary-title">ุชุงุฑุฎฺู</h3>
                <button onclick="app.closeModal('diary-modal')" class="close-btn"><i class="fas fa-times"></i></button>
            </div>
            <div id="diary-list" class="diary-list"></div>
            <div class="diary-form">
                <div class="form-row" style="margin-bottom:10px">
                    <select id="log-type">
                        <option value="water">๐ง ุขุจุงุฑ</option>
                        <option value="fertilizer">๐งช ฺฉูุฏ</option>
                        <option value="growth">๐ฑ ุฑุดุฏ</option>
                        <option value="pest">๐ ุขูุช</option>
                        <option value="other">๐ ุงุฏุฏุงุดุช</option>
                    </select>
                    <input type="date" id="log-date">
                </div>
                <textarea id="log-note" placeholder="ุชูุถุญุงุช..."></textarea>
                <button onclick="app.saveLog()" class="btn-confirm" style="width:100%">ุซุจุช</button>
            </div>
        </div>
    </div>

    <!-- ุงุณฺฉุฑูพุช ุงุตู ุจู ุตูุฑุช ูุงฺูู -->
    <script type="module" src="./js/main.js"></script>
  </body>
</html>