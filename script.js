const plantData = {
  // === گیاهان گروه ۱: رطوبت‌دوست و حساس ===
  "آلوکازیا زبرینا (بابا آدم)": {
    آبیاری: "سطح خاک (نیم سانت) خشک شود. آب هم‌دما.",
    نور: "زیاد فیلتر شده",
    کوددهی: "متوقف در زمستان. در فصل رشد: P/K بالا.",
    قلمه: "پاجوش/تقسیم ریزوم.",
    آفات: "کنه‌های تار عنکبوتی. نیاز به شستشو و رطوبت بالا.",
    گروه: "رطوبت‌دوست افراطی (گروه ۱)",
    عیب_یابی:
      "⚠️ **نوک/لبه‌های قهوه‌ای:** رطوبت بسیار کم یا نمک زیاد. ⚠️ **افتادگی برگ:** تشنگی شدید یا شوک دمایی.",
    دانشنامه: {
      خاستگاه: "آسیای جنوب شرقی، فیلیپین.",
      دما: "۲۰ تا ۲۵ درجه سانتی‌گراد. زیر ۱۵ درجه آسیب می‌بیند.",
      خاک_ایده‌آل: "بسیار سبک و غنی. ترکیب پیت ماس، پرلیت و کوکوپیت.",
    },
    عکس_فارسی: "آلوکازیا_زبرینا_(بابا_آدم)", // تگ پیشنهادی برای نام فایل عکس
  },
  "اسپاتی‌فیلوم (گل چمچه‌ای/صلح)": {
    آبیاری: "خاک همیشه کمی مرطوب. تشنگی باعث افتادگی شدید برگ می‌شود.",
    نور: "متوسط تا کم (مقاوم به سایه). برای گلدهی به نور بیشتری نیاز دارد.",
    کوددهی: "P بالا برای گلدهی.",
    قلمه: "تقسیم ریشه.",
    آفات: "شپشک آردآلود.",
    گروه: "رطوبت‌دوست افراطی (گروه ۱)",
    عیب_یابی:
      "⚠️ **نوک قهوه‌ای:** آبیاری نامنظم یا املاح آب بالا. ⚠️ **گل ندادن:** نور ناکافی.",
    دانشنامه: {
      خاستگاه: "جنگل‌های بارانی آمریکای مرکزی و آسیا.",
      دما: "۲۰ تا ۲۸ درجه سانتی‌گراد. دمای سرد باعث سیاهی برگ می‌شود.",
      خاک_ایده‌آل: "خاک سنگین‌تر و جاذب رطوبت (پیت ماس زیاد).",
    },
    عکس_فارسی: "اسپاتی_فیلوم_(گل_چمچه‌ای)",
  },
  "سینگونیوم (پنجه کلاغی)": {
    آبیاری: "سطح خاک خشک شد، آبیاری کنید. نیاز به رطوبت بالا دارد.",
    نور: "متوسط تا کم. نور زیاد باعث سوختگی می‌شود.",
    کوددهی: "N بالا در فصل رشد.",
    قلمه: "ساقه در آب یا خاک.",
    آفات: "کنه‌های تار عنکبوتی.",
    گروه: "رطوبت‌دوست افراطی (گروه ۱)",
    عیب_یابی:
      "⚠️ **نوک خشک:** کمبود رطوبت یا خشکی خاک. ⚠️ **رنگ پریدگی:** نور زیاد.",
    دانشنامه: {
      خاستگاه: "جنگل‌های بارانی مکزیک تا برزیل.",
      دما: "۱۸ تا ۲۲ درجه سانتی‌گراد. به شوک دمایی حساس است.",
      خاک_ایده‌آل: "خاک سبک، اسیدی و پیت ماس فراوان.",
    },
    عکس_فارسی: "سینگونیوم_(پنجه_کلاغی)",
  },
  "کالاتیا (گیاه دعاگو)": {
    آبیاری:
      "خاک همیشه مرطوب (خیس نباشد). حساس به کلر آب (از آب جوشیده سرد شده استفاده کنید).",
    نور: "متوسط غیرمستقیم. نور زیاد برگ را می‌سوزاند.",
    کوددهی: "نصف غلظت معمول، فقط در فصل رشد.",
    قلمه: "تقسیم بوته هنگام تعویض گلدان.",
    آفات: "کنه تار عنکبوتی (بسیار مستعد).",
    گروه: "رطوبت‌دوست افراطی (گروه ۱)",
    عیب_یابی:
      "⚠️ **خشکی حاشیه برگ:** رطوبت کم یا املاح آب. ⚠️ **لول شدن برگ:** تشنگی یا گرمای زیاد.",
    دانشنامه: {
      خاستگاه: "جنگل‌های بارانی برزیل.",
      دما: "۱۸ تا ۲۴ درجه. به سرما و جریان هوا فوق‌العاده حساس است.",
      خاک_ایده‌آل: "مخلوط پیت‌ماس و پرلیت (سبک و نگهدارنده رطوبت).",
    },
    عکس_فارسی: "کالاتیا_(گیاه_دعاگو)",
  },
  "آنتوریوم (گل فلامینگو)": {
    آبیاری: "وقتی سطح خاک خشک شد. دوستدار رطوبت محیطی.",
    نور: "متوسط تا زیاد فیلتر شده (برای گلدهی لازم است).",
    کوددهی: "P بالا (کود گلدهی) در بهار و تابستان.",
    قلمه: "تقسیم ریشه/پاجوش.",
    آفات: "شپشک و کنه.",
    گروه: "رطوبت‌دوست افراطی (گروه ۱)",
    عیب_یابی:
      "⚠️ **گل ندادن:** نور ناکافی یا کمبود کود. ⚠️ **سوختگی نوک برگ:** رطوبت کم.",
    دانشنامه: {
      خاستگاه: "کلمبیا و اکوادور.",
      دما: "۲۱ تا ۳۲ درجه. زیر ۱۵ درجه آسیب می‌بیند.",
      خاک_ایده‌آل: "خاک ارکیده یا مخلوط خیلی سبک (پوسته درخت و پرلیت).",
    },
    عکس_فارسی: "آنتوریوم_(گل_فلامینگو)",
  },
  "بگونیا (رکس/ماکولاتا)": {
    آبیاری: "سطح خاک خشک شود. روی برگ آب نریزید (لکه قارچی).",
    نور: "زیاد فیلتر شده (نور مصنوعی هم عالی است).",
    کوددهی: "متعادل هر دو هفته.",
    قلمه: "قلمه برگ (رکس) یا ساقه (ماکولاتا).",
    آفات: "سفیدک پودری (قارچ).",
    گروه: "رطوبت‌دوست افراطی (گروه ۱)",
    عیب_یابی:
      "⚠️ **سفیدک روی برگ:** رطوبت بالا بدون تهویه. ⚠️ **خشکی حاشیه برگ:** خشکی هوا.",
    دانشنامه: {
      خاستگاه: "مناطق گرمسیری (هند/برزیل).",
      دما: "۱۸ تا ۲۲ درجه.",
      خاک_ایده‌آل: "خاک سبک بر پایه پیت‌ماس.",
    },
    عکس_فارسی: "بگونیا",
  },
  "نخل اریکا": {
    آبیاری: "سطح خاک خشک شود. خاک همیشه کمی مرطوب.",
    نور: "زیاد فیلتر شده",
    کوددهی: "متوقف در زمستان. N بالا در فصل رشد.",
    قلمه: "تقسیم توده ریشه.",
    آفات: "کنه‌های تار عنکبوتی.",
    گروه: "رطوبت‌دوست افراطی (گروه ۱)",
    عیب_یابی:
      "⚠️ **نوک قهوه‌ای:** رطوبت کم یا نمک زیاد آب (باید از آب هم‌دما استفاده شود). ⚠️ **زردی کلی:** نیاز به کود یا آب زیاد.",
    دانشنامه: {
      خاستگاه: "ماداگاسکار.",
      دما: "۱۸ تا ۲۴ درجه سانتی‌گراد. به خشکی هوا بسیار حساس است.",
      خاک_ایده‌آل: "خاک سبک نخل با زهکشی عالی.",
    },
    عکس_فارسی: "نخل_اریکا",
  },
  "بامبو (لاکی بامبو)": {
    آبیاری:
      "تعویض آب گلدان هر دو هفته (آب بدون کلر). اگر در خاک است، همیشه مرطوب.",
    نور: "متوسط تا کم فیلتر شده.",
    کوددهی: "کود مایع بامبو (قطره‌ای) هر ماه.",
    قلمه: "قلمه ساقه از بندها.",
    آفات: "قارچ (در صورت کثیف بودن آب).",
    گروه: "رطوبت‌دوست افراطی (گروه ۱)",
    عیب_یابی:
      "⚠️ **زرد شدن ساقه:** قارچ یا کلر آب (قسمت زرد را ببرید). ⚠️ **برگ‌های رنگ پریده:** کمبود نور.",
    دانشنامه: {
      خاستگاه: "غرب آفریقا (کامرون).",
      دما: "۱۸ تا ۳۵ درجه سانتی‌گراد.",
      خاک_ایده‌آل: "آب یا خاک ژله‌ای (در خاک سبک هم رشد می‌کند).",
    },
    عکس_فارسی: "بامبو_(لاکی_بامبو)",
  },
  "کروتون (کرچک هندی)": {
    آبیاری: "دو سوم خاک خشک شود. بسیار حساس به تشنگی.",
    نور: "حداکثر نور ممکن (برای حفظ رنگ‌ها).",
    کوددهی: "N بالا در فصل رشد.",
    قلمه: "ساقه.",
    آفات: "کنه‌های تار عنکبوتی.",
    گروه: "رطوبت‌دوست افراطی (گروه ۱)",
    عیب_یابی:
      "⚠️ **ریزش برگ پایین:** تشنگی یا شوک دمایی. ⚠️ **از دست دادن رنگ:** نور کم.",
    دانشنامه: {
      خاستگاه: "آسیای جنوب شرقی.",
      دما: "۲۲ تا ۳۰ درجه سانتی‌گراد. به تغییرات دمایی حساس است.",
      خاک_ایده‌آل: "خاک غنی و مرطوب (پیت ماس زیاد).",
    },
    عکس_فارسی: "کروتون",
  },

  // === گیاهان گروه ۲: آبدار و کم‌نیاز (مقاوم) ===
  "سانسوریا (شمشیری)": {
    آبیاری: "تمام خاک گلدان کاملاً خشک شود. خطر اصلی: پوسیدگی ریشه.",
    نور: "حداکثر نور ممکن (اما سایه را هم تحمل می‌کند).",
    کوددهی: "متوقف در زمستان. در فصل رشد: P و K بالا.",
    قلمه: "برگ در بستر خشک.",
    آفات: "پوسیدگی ریشه (آبیاری زیاد).",
    گروه: "آبدار و کم‌نیاز (گروه ۲)",
    عیب_یابی:
      "⚠️ **نرم و شل شدن ساقه:** پوسیدگی ریشه (فوری آبیاری را قطع کنید). ⚠️ **لوله شدن برگ:** تشنگی شدید (نایاب).",
    دانشنامه: {
      خاستگاه: "آفریقا، هند.",
      دما: "مقاوم به گرما. زیر ۱۰ درجه سانتی‌گراد آسیب می‌بیند.",
      خاک_ایده‌آل:
        "خاک کاکتوس یا ترکیب ماسه و پیت ماس (زهکشی فوق‌العاده بالا).",
    },
    عکس_فارسی: "سانسوریا_(شمشیری)",
  },
  "زامیفولیا (زاموفیلیا)": {
    آبیاری: "مانند سانسوریا، بسیار کم. تمام خاک خشک شود. مستعدترین به پوسیدگی.",
    نور: "مقاوم به نور کم تا متوسط. نور فیلتر شده عالی است.",
    کوددهی: "بسیار کم. N کم در فصل رشد.",
    قلمه: "برگ و ساقه (بسیار زمان‌بر).",
    آفات: "پوسیدگی ریزوم/ریشه.",
    گروه: "آبدار و کم‌نیاز (گروه ۲)",
    عیب_یابی:
      "⚠️ **نرم شدن ریزوم:** آبیاری زیاد (تنها علت). ⚠️ **زردی:** تشنگی زیاد یا آبیاری کم.",
    دانشنامه: {
      خاستگاه: "آفریقای شرقی.",
      دما: "۱۸ تا ۲۶ درجه سانتی‌گراد. بسیار مقاوم و کم‌توقع.",
      خاک_ایده‌آل: "خاک کاکتوس یا هر خاکی با زهکشی بسیار عالی.",
    },
    عکس_فارسی: "زاموفیلیا",
  },
  "کراسولا (یشم/خرفه)": {
    آبیاری: "بگذارید خاک کاملاً خشک شود. آبیاری زیاد = مرگ فوری.",
    نور: "بسیار زیاد (حتی آفتاب مستقیم صبحگاهی).",
    کوددهی: "کود کاکتوس، ماهی یکبار در تابستان.",
    قلمه: "ساقه یا برگ در خاک.",
    آفات: "شپشک آردآلود.",
    گروه: "آبدار و کم‌نیاز (گروه ۲)",
    عیب_یابی:
      "⚠️ **ریزش برگ سبز:** آبیاری زیاد یا شوک سرما. ⚠️ **چروک شدن برگ:** تشنگی.",
    دانشنامه: {
      خاستگاه: "آفریقای جنوبی و موزامبیک.",
      دما: "۱۰ تا ۲۴ درجه. گرما و خشکی را دوست دارد.",
      خاک_ایده‌آل: "خاک کاکتوس و ساکولنت (زهکشی ماکزیمم).",
    },
    عکس_فارسی: "کراسولا_(یشم)",
  },
  "آلوئه‌ورا (صبر زرد)": {
    آبیاری: "بگذارید خاک کاملاً خشک شود (هفته‌ای یکبار یا کمتر).",
    نور: "زیاد و مستقیم (پشت پنجره جنوبی).",
    کوددهی: "P بالا سالی یک یا دو بار.",
    قلمه: "پاجوش‌های کناری.",
    آفات: "شپشک آردآلود.",
    گروه: "آبدار و کم‌نیاز (گروه ۲)",
    عیب_یابی:
      "⚠️ **برگ‌های قهوه‌ای و نرم:** آبیاری بیش از حد. ⚠️ **برگ‌های نازک و پیچ‌خورده:** تشنگی.",
    دانشنامه: {
      خاستگاه: "شبه‌جزیره عربستان.",
      دما: "۱۳ تا ۲۷ درجه. به یخ‌زدگی حساس است.",
      خاک_ایده‌آل: "خاک کاکتوس شنی.",
    },
    عکس_فارسی: "آلوئه‌ورا",
  },
  "لیندا (پافیلی)": {
    آبیاری: "بسیار کم. پیاز آن آب ذخیره می‌کند. خشکی کامل خاک.",
    نور: "زیاد تا متوسط.",
    کوددهی: "بسیار سبک در تابستان.",
    قلمه: "کاشت پاجوش (دشوار).",
    آفات: "کنه‌های تار عنکبوتی.",
    گروه: "آبدار و کم‌نیاز (گروه ۲)",
    عیب_یابی:
      "⚠️ **نرم شدن پیاز پایه:** آبیاری زیاد (مرگ گیاه). ⚠️ **خشکی نوک برگ:** خشکی شدید هوا.",
    دانشنامه: {
      خاستگاه: "مکزیک.",
      دما: "۱۰ تا ۲۸ درجه. بسیار مقاوم.",
      خاک_ایده‌آل: "خاک کاکتوس شنی.",
    },
    عکس_فارسی: "لیندا_(پافیلی)",
  },
  یوکا: {
    آبیاری: "وقتی خاک کاملاً خشک شد (حساس به غرقابی).",
    نور: "زیاد و مستقیم.",
    کوددهی: "کود کامل ماهی یکبار در فصل رشد.",
    قلمه: "قلمه تنه (کنده‌ها).",
    آفات: "شپشک آردآلود.",
    گروه: "آبدار و کم‌نیاز (گروه ۲)",
    عیب_یابی:
      "⚠️ **زردی برگ‌های پایین:** آبیاری زیاد یا نور کم. ⚠️ **لکه سفید روی برگ:** قارچ سفیدک.",
    دانشنامه: {
      خاستگاه: "آمریکای مرکزی.",
      دما: "۱۳ تا ۲۷ درجه. مقاوم به گرما و سرما.",
      خاک_ایده‌آل: "خاک لومی سنگین با زهکشی خوب.",
    },
    عکس_فارسی: "یوکا",
  },

  // === گیاهان گروه ۳: تطبیق‌پذیر و محبوب ===
  "پتوس (لوکی)": {
    آبیاری: "متوسط. دو سوم خاک خشک شود (تست انگشت).",
    نور: "زیاد فیلتر شده (سایه را هم تحمل می‌کند).",
    کوددهی: "متوقف در زمستان. N کم در فصل رشد.",
    قلمه: "ساقه در آب یا پرلیت.",
    آفات: "کنه‌های خفیف.",
    گروه: "تطبیق‌پذیر (گروه ۳)",
    عیب_یابی:
      "⚠️ **زردی برگ:** آبیاری زیاد (رایج‌ترین علت). ⚠️ **علفی شدن:** نور کم و فاصله زیاد بین گره‌ها.",
    دانشنامه: {
      خاستگاه: "جزایر سلیمان.",
      دما: "۱۸ تا ۲۵ درجه سانتی‌گراد. مقاوم به نوسان دمایی در حد کم.",
      خاک_ایده‌آل: "مخلوط گلدانی عمومی با زهکشی متوسط.",
    },
    عکس_فارسی: "پتوس",
  },
  "گندمی (عنکبوتی)": {
    آبیاری: "خاک خشک شد آب دهید. آب کلردار باعث سوختگی نوک برگ می‌شود.",
    نور: "متوسط تا زیاد فیلتر شده (سایه را تحمل می‌کند).",
    کوددهی: "N متعادل در بهار و تابستان.",
    قلمه: "کاشت گیاهچه‌های آویزان در خاک یا آب.",
    آفات: "شته و کنه (نادر).",
    گروه: "تطبیق‌پذیر (گروه ۳)",
    عیب_یابی:
      "⚠️ **نوک قهوه‌ای:** فلوراید/کلر آب یا خشکی هوا. ⚠️ **رنگ‌پریدگی نوارها:** نور کم.",
    دانشنامه: {
      خاستگاه: "آفریقای جنوبی.",
      دما: "۱۸ تا ۲۴ درجه. تا ۵ درجه را تحمل می‌کند.",
      خاک_ایده‌آل: "خاک معمولی گلدان با زهکشی خوب.",
    },
    عکس_فارسی: "گندمی",
  },
  "آگلونما (نخودی)": {
    آبیاری: "متوسط. دو سوم خاک خشک شود. مستعد پوسیدگی طوقه در اثر آب زیاد.",
    نور: "متوسط تا زیاد فیلتر شده.",
    کوددهی: "N و P متعادل در فصل رشد.",
    قلمه: "پاجوش یا تقسیم ساقه.",
    آفات: "شپشک آردآلود. مقاوم به کنه.",
    گروه: "تطبیق‌پذیر (گروه ۳)",
    عیب_یابی:
      "⚠️ **زردی نوک برگ‌ها:** آبیاری بیش از حد یا املاح آب بالا. ⚠️ **قهوه‌ای شدن نوک:** رطوبت کم.",
    دانشنامه: {
      خاستگاه: "آسیای گرمسیری، مالزی.",
      دما: "۲۲ تا ۲۸ درجه سانتی‌گراد. دمای پایین برگ‌ها را از بین می‌برد.",
      خاک_ایده‌آل: "خاک گلدانی سبک با پیت ماس فراوان.",
    },
    عکس_فارسی: "آگلونما",
  },
  "برگ انجیری (مونسترا)": {
    آبیاری: "دو سوم خاک خشک شود. در زمستان آبیاری را کاهش دهید.",
    نور: "زیاد فیلتر شده (بهترین حالت).",
    کوددهی: "N بالا برای رشد برگ‌ها.",
    قلمه: "ساقه دارای گره هوایی.",
    آفات: "تریپس و کنه‌های خفیف.",
    گروه: "تطبیق‌پذیر (گروه ۳)",
    عیب_یابی:
      "⚠️ **برگ بدون شکاف:** نور کم یا سن کم گیاه. ⚠️ **نوک قهوه‌ای با هاله زرد:** آبیاری زیاد.",
    دانشنامه: {
      خاستگاه: "مکزیک و آمریکای مرکزی.",
      دما: "۲۲ تا ۳۰ درجه سانتی‌گراد. گیاهی بالارونده است و نیاز به تکیه‌گاه خزه دارد.",
      خاک_ایده‌آل: "خاک گلدانی معمولی با کمی پوست کاج.",
    },
    عکس_فارسی: "برگ_انجیری_(مونسترا)",
  },
  "دیفن‌باخیا (سم برگ)": {
    آبیاری: "سطح خاک خشک شود، سپس سیراب کنید. مستعد پوسیدگی ریشه.",
    نور: "متوسط تا زیاد فیلتر شده (بهترین حالت).",
    کوددهی: "N و K بالا در فصل رشد.",
    قلمه: "تکه‌تکه کردن ساقه.",
    آفات: "کنه‌های تار عنکبوتی و شپشک آردآلود.",
    گروه: "تطبیق‌پذیر (گروه ۳)",
    عیب_یابی:
      "⚠️ **افتادگی برگ‌های پایین:** نور کم یا دمای سرد. ⚠️ **لکه سوخته:** نور مستقیم خورشید.",
    دانشنامه: {
      خاستگاه: "آمریکای مرکزی و جنوبی.",
      دما: "۲۰ تا ۲۵ درجه سانتی‌گراد. گیاه سمی است و باید دور از دسترس حیوانات و کودکان باشد.",
      خاک_ایده‌آل: "خاک گلدانی معمولی با زهکشی خوب.",
    },
    عکس_فارسی: "دیفن‌باخیا",
  },
  "برگ بیدی (ترادسکانتیا)": {
    آبیاری: "متوسط. دو سوم خاک خشک شود. مستعد پوسیدگی.",
    نور: "زیاد فیلتر شده (برای حفظ رنگ‌های ابلق).",
    کوددهی: "N بالا در فصل رشد (به دلیل رشد سریع).",
    قلمه: "ساقه در آب یا خاک سبک (بسیار آسان).",
    آفات: "کنه‌های خفیف، شپشک آردآلود.",
    گروه: "تطبیق‌پذیر (گروه ۳)",
    عیب_یابی:
      "⚠️ **رنگ‌پریدگی یا سبز شدن:** نور کم (رنگ‌های ابلق را از دست می‌دهد). ⚠️ **شل شدن و پوسیدگی ساقه:** آبیاری زیاد (ریشه پوسیده).",
    دانشنامه: {
      خاستگاه: "آمریکای مرکزی و جنوبی.",
      دما: "۱۸ تا ۲۵ درجه سانتی‌گراد. نسبت به خشکی مقاوم است.",
      خاک_ایده‌آل: "خاک عمومی با زهکشی خوب.",
    },
    عکس_فارسی: "برگ_بیدی",
  },
  "فیکوس (الاستیکا)": {
    آبیاری: "متوسط. دو سوم خاک خشک شود. حساس به جابجایی.",
    نور: "زیاد فیلتر شده.",
    کوددهی: "N بالا برای حفظ رشد برگ و ساقه.",
    قلمه: "قلمه‌زنی ساقه (نیاز به هورمون).",
    آفات: "شوک دمایی، کنه‌های خفیف. لکه‌های قهوه‌ای به دلیل آبیاری نامنظم.",
    گروه: "تطبیق‌پذیر (گروه ۳)",
    عیب_یابی:
      "⚠️ **ریزش ناگهانی برگ:** شوک دمایی یا جابجایی ناگهانی. ⚠️ **لکه قهوه‌ای:** آبیاری نامنظم.",
    دانشنامه: {
      خاستگاه: "مناطق گرمسیری جهان.",
      دما: "۱۶ تا ۲۷ درجه سانتی‌گراد. به جریان هوای سرد حساس است.",
      خاک_ایده‌آل: "خاک گلدانی سبک و کمی اسیدی.",
    },
    عکس_فارسی: "فیکوس_(الاستیکا)",
  },
  "دراسینا (پرچمی/کامپکت)": {
    آبیاری: "سطح خاک (۲-۳ سانت) خشک شود. حساس به فلوراید آب.",
    نور: "متوسط تا کم. نور مستقیم برگ را می‌سوزاند.",
    کوددهی: "کود کامل گیاهان آپارتمانی در فصل رشد.",
    قلمه: "قلمه ساقه (بریدن سر گیاه).",
    آفات: "کنه‌های تار عنکبوتی در خشکی هوا.",
    گروه: "تطبیق‌پذیر (گروه ۳)",
    عیب_یابی:
      "⚠️ **لکه قهوه‌ای روی برگ:** خشکی هوا یا املاح آب. ⚠️ **ریزش برگ پایین:** طبیعی (با رشد گیاه).",
    دانشنامه: {
      خاستگاه: "آفریقا (ماداگاسکار).",
      دما: "۱۵ تا ۲۵ درجه. از سرما بیزار است.",
      خاک_ایده‌آل: "خاک سبک لومی با زهکشی خوب.",
    },
    عکس_فارسی: "دراسینا_(کامپکت)",
  },
  "شفلرا (گیاه چتری)": {
    آبیاری: "دو سوم خاک خشک شود. مستعد ریزش برگ.",
    نور: "زیاد فیلتر شده",
    کوددهی: "N بالا برای تقویت شاخ و برگ.",
    قلمه: "ساقه.",
    آفات: "کنه‌های تار عنکبوتی (نیاز به شستشوی منظم).",
    گروه: "تطبیق‌پذیر (گروه ۳)",
    عیب_یابی:
      "⚠️ **ریزش برگ پایین:** آبیاری زیاد یا نور کم. ⚠️ **برگ چسبناک:** شپشک آردآلود.",
    دانشنامه: {
      خاستگاه: "تایوان و استرالیا.",
      دما: "۱۶ تا ۲۲ درجه سانتی‌گراد. به تهویه مناسب نیاز دارد.",
      خاک_ایده‌آل: "خاک سبک و خوب زهکشی شده.",
    },
    عکس_فارسی: "شفلرا",
  },
  "قاشقی (پپرومیا)": {
    آبیاری: "دو سوم خاک خشک شود. برگ‌های گوشتی آب ذخیره می‌کنند.",
    نور: "متوسط تا زیاد فیلتر شده",
    کوددهی: "N کم در فصل رشد.",
    قلمه: "برگ.",
    آفات: "پوسیدگی ریشه (آبیاری زیاد).",
    گروه: "تطبیق‌پذیر (گروه ۳)",
    عیب_یابی:
      "⚠️ **زردی و ریزش برگ:** آبیاری زیاد. ⚠️ **لکه‌های چوب پنبه‌ای:** آسیب فیزیکی یا تغییرات ناگهانی دما.",
    دانشنامه: {
      خاستگاه: "مناطق گرمسیری جهان.",
      دما: "۱۸ تا ۲۵ درجه سانتی‌گراد. نباید در معرض جریان‌های سرد هوا قرار گیرد.",
      خاک_ایده‌آل: "خاک سبک و پیت ماس فراوان.",
    },
    عکس_فارسی: "قاشقی_(پپرومیا)",
  },
  فیلودندرون: {
    آبیاری: "دو سوم خاک خشک شود. مانند پتوس.",
    نور: "متوسط تا زیاد فیلتر شده",
    کوددهی: "N بالا در فصل رشد.",
    قلمه: "ساقه.",
    آفات: "شپشک آردآلود. مقاوم‌تر از آلوکازیا در برابر کنه.",
    گروه: "تطبیق‌پذیر (گروه ۳)",
    عیب_یابی:
      "⚠️ **برگ‌های زرد پایین:** آبیاری زیاد. ⚠️ **برگ‌های کوچک‌تر:** نیاز به تعویض گلدان یا کود.",
    دانشنامه: {
      خاستگاه: "آمریکای مرکزی و جنوبی.",
      دما: "۱۸ تا ۲۵ درجه سانتی‌گراد. گیاهی رونده که به تکیه‌گاه نیاز دارد.",
      خاک_ایده‌آل: "خاک عمومی با زهکشی خوب.",
    },
    عکس_فارسی: "فیلودندرون",
  },
  "هویا (پیچ مومی)": {
    آبیاری: "خاک کاملاً خشک شود (برگ‌ها گوشتی هستند).",
    نور: "زیاد فیلتر شده (برای گلدهی).",
    کوددهی: "P بالا قبل از گلدهی.",
    قلمه: "قلمه ساقه در آب.",
    آفات: "شپشک آردآلود (لای درزها).",
    گروه: "تطبیق‌پذیر (گروه ۳)",
    عیب_یابی:
      "⚠️ **ریزش غنچه:** جابجایی گلدان یا کم‌آبی. ⚠️ **چروکیدگی برگ:** تشنگی.",
    دانشنامه: {
      خاستگاه: "آسیای شرقی و استرالیا.",
      دما: "۱۶ تا ۲۷ درجه.",
      خاک_ایده‌آل: "مخلوط خاک ارکیده و کاکتوس (خیلی سبک).",
    },
    عکس_فارسی: "هویا_(پیچ_مومی)",
  },
  "فیکوس (بنجامین)": {
    آبیاری: "سطح خاک خشک شود. حساس به جابجایی و شوک آبیاری.",
    نور: "زیاد فیلتر شده (نور کم باعث ریزش برگ می‌شود).",
    کوددهی: "N بالا در فصل رشد.",
    قلمه: "ساقه.",
    آفات: "کنه‌های تار عنکبوتی و شپشک آردآلود.",
    گروه: "تطبیق‌پذیر (گروه ۳)",
    عیب_یابی:
      "⚠️ **ریزش ناگهانی برگ:** شوک دمایی، کم‌آبی یا آبیاری زیاد. ⚠️ **برگ‌های چسبنده:** وجود آفت.",
    دانشنامه: {
      خاستگاه: "آسیای جنوبی و استرالیا.",
      دما: "۱۸ تا ۲۴ درجه سانتی‌گراد. از تغییرات ناگهانی دما و جابجایی بیزار است.",
      خاک_ایده‌آل: "خاک لومی سبک با زهکشی خوب.",
    },
    عکس_فارسی: "فیکوس_(بنجامین)",
  },
  "نخل شامادورا": {
    آبیاری: "خاک کمی مرطوب بماند (سطح خاک خشک شود). حساس به خشکی هوا.",
    نور: "متوسط تا کم (مقاوم به سایه). نور مستقیم می‌سوزاند.",
    کوددهی: "N بالا در فصل رشد.",
    قلمه: "تقسیم بوته (دشوار).",
    آفات: "کنه‌های تار عنکبوتی (رایج).",
    گروه: "تطبیق‌پذیر (گروه ۳)",
    عیب_یابی:
      "⚠️ **نوک قهوه‌ای:** رطوبت کم هوا. ⚠️ **رنگ‌پریدگی و سوختگی:** نور زیاد و مستقیم.",
    دانشنامه: {
      خاستگاه: "آمریکای مرکزی و جنوبی.",
      دما: "۱۸ تا ۲۵ درجه سانتی‌گراد. به کیفیت آب حساس است.",
      خاک_ایده‌آل: "خاک سنگین نخل با زهکشی متوسط.",
    },
    عکس_فارسی: "نخل_شامادورا",
  },

  // === گیاهان با نیازهای خاص ===
  "بنفشه آفریقایی": {
    آبیاری: "فقط از زیر گلدان (غرقابی). آب روی برگ نریزد.",
    نور: "زیاد و غیرمستقیم. نور مصنوعی عالی است.",
    کوددهی: "P بالا (کود گلدهی) و کودهای تخصصی بنفشه.",
    قلمه: "برگ در آب یا خاک سبک.",
    آفات: "شپشک آردآلود، قارچ‌ها.",
    گروه: "نیازهای خاص",
    عیب_یابی:
      "⚠️ **لکه روی برگ:** ریختن آب سرد یا نور مستقیم. ⚠️ **سفیدک:** رطوبت پایین و تهویه ضعیف.",
    دانشنامه: {
      خاستگاه: "شرق آفریقا، تانزانیا.",
      دما: "۱۸ تا ۲۲ درجه سانتی‌گراد. نسبت به نوسانات دمایی بسیار حساس است.",
      خاک_ایده‌آل: "بسیار سبک، حاوی پیت ماس و ورمی کولیت.",
    },
    عکس_فارسی: "بنفشه_آفریقایی",
  },
  شمعدانی: {
    آبیاری: "خشک شدن تقریباً کامل خاک. تهویه خوب الزامی.",
    نور: "بیشترین نور مستقیم ممکن",
    کوددهی: "P و K بالا در فصل رشد برای گلدهی.",
    قلمه: "قلمه‌زنی ساقه.",
    آفات: "قارچ بوتریتیس، شته. اسپری برگ ممنوع.",
    گروه: "نیازهای خاص",
    عیب_یابی:
      "⚠️ **پوسیدگی ساقه/لکه خاکستری:** قارچ (تهویه ضعیف و رطوبت بالا). ⚠️ **برگ‌های کوچک:** نور کم.",
    دانشنامه: {
      خاستگاه: "آفریقای جنوبی.",
      دما: "دمای خنک و آفتاب کامل را دوست دارد. هوای راکد برایش مناسب نیست.",
      خاک_ایده‌آل: "خاک سنگین‌تر و قلیایی.",
    },
    عکس_فارسی: "شمعدانی",
  },
  "حسن یوسف": {
    آبیاری: "خاک همیشه کمی مرطوب باشد (سطح خاک خشک شود). آب زیاد می‌خواهد.",
    نور: "بیشترین نور مستقیم ممکن",
    کوددهی: "N بالا در فصل رشد.",
    قلمه: "ساقه در آب یا خاک سبک.",
    آفات: "شته، سفیدبالک. کمبود نور باعث رنگ‌پریدگی می‌شود.",
    گروه: "نیازهای خاص",
    عیب_یابی: "⚠️ **رنگ‌پریدگی:** نور کم. ⚠️ **پژمردگی شدید:** تشنگی زیاد.",
    دانشنامه: {
      خاستگاه: "جنوب شرق آسیا.",
      دما: "۲۰ تا ۲۵ درجه سانتی‌گراد. در دمای زیر ۱۰ درجه از بین می‌رود.",
      خاک_ایده‌آل: "خاک غنی با رطوبت بالا.",
    },
    عکس_فارسی: "حسن_یوسف",
  },
  "فیکوس لیراتا (برگ ویلونی)": {
    آبیاری: "وقتی ۳-۴ سانت روی خاک خشک شد. آبیاری منظم مهم است.",
    نور: "زیاد و غیرمستقیم (نیاز نوری بالا).",
    کوددهی: "N بالا برای برگ‌های بزرگ.",
    قلمه: "قلمه ساقه (دشوار).",
    آفات: "کنه و شپشک.",
    گروه: "نیازهای خاص",
    عیب_یابی:
      "⚠️ **لکه قهوه‌ای در وسط برگ:** پوسیدگی ریشه (آب زیاد). ⚠️ **ریزش برگ:** جابجایی مکان یا خشکی هوا.",
    دانشنامه: {
      خاستگاه: "غرب آفریقا.",
      دما: "۱۸ تا ۲۴ درجه. تغییر دما را دوست ندارد.",
      خاک_ایده‌آل: "خاک غنی با زهکشی عالی (مخلوط خاک برگ و پرلیت).",
    },
    عکس_فارسی: "فیکوس_لیراتا",
  },
  "استرلیتزیا (پرنده بهشتی)": {
    آبیاری: "خاک مرطوب بماند اما خیس نشود (خشکی سطح خاک).",
    نور: "نور کامل و زیاد (حتی آفتاب).",
    کوددهی: "کوددهی سنگین در فصل رشد.",
    قلمه: "تقسیم بوته (پاجوش).",
    آفات: "شپشک و کنه.",
    گروه: "نیازهای خاص",
    عیب_یابی:
      "⚠️ **شکافته شدن برگ‌ها:** طبیعی است (برای عبور باد). ⚠️ **لوله شدن برگ:** تشنگی یا آفت.",
    دانشنامه: {
      خاستگاه: "آفریقای جنوبی.",
      دما: "۱۸ تا ۳۰ درجه.",
      خاک_ایده‌آل: "خاک لومی غنی و سنگین.",
    },
    عکس_فارسی: "استرلیتزیا_(پرنده_بهشتی)",
  },
  "کاج مطبق": {
    آبیاری: "خاک همیشه مرطوب باشد (خشکی را دوست ندارد).",
    نور: "نور زیاد غیرمستقیم. سایه باعث خم شدن شاخه می‌شود.",
    کوددهی: "کود مخصوص گیاهان اسیدی.",
    قلمه: "بسیار دشوار (فقط بذر).",
    آفات: "شپشک آردآلود.",
    گروه: "نیازهای خاص",
    عیب_یابی:
      "⚠️ **افتادگی شاخه‌ها:** گرما زیاد یا تشنگی. ⚠️ **خشکی نوک برگ:** خشکی هوا.",
    دانشنامه: {
      خاستگاه: "جزیره نورفولک (استرالیا).",
      دما: "۵ تا ۲۵ درجه. هوای خنک و اکسیژن زیاد می‌خواهد.",
      خاک_ایده‌آل: "خاک سبک و اسیدی (کمپوست). ",
    },
    عکس_فارسی: "کاج_مطبق",
  },
};

const iconMap = {
  آبیاری: "fa-tint",
  نور: "fa-sun",
  کوددهی: "fa-seedling",
  قلمه: "fa-cut",
  آفات: "fa-bug",
  دما: "fa-thermometer-half",
  خاستگاه: "fa-globe-americas",
  خاک_ایده‌آل: "fa-layer-group",
  عکس_فارسی: "fa-image", // آیکون جدید برای عکس
};
function getUniqueValues(key) {
  const values = new Set();
  for (const name in plantData) {
    if (key !== "عیب_یابی" && key !== "دانشنامه" && plantData[name][key]) {
      values.add(plantData[name][key]);
    }
  }
  return Array.from(values).sort();
}

function populateFilters() {
  const groupFilter = document.getElementById("group-filter");
  const lightFilter = document.getElementById("light-filter");

  groupFilter.innerHTML = '<option value="all">نمایش همه</option>';
  getUniqueValues("گروه").forEach((value) => {
    const option = document.createElement("option");
    option.value = value;
    option.textContent = value;
    groupFilter.appendChild(option);
  });

  lightFilter.innerHTML = '<option value="all">نمایش همه</option>';
  getUniqueValues("نور").forEach((value) => {
    const option = document.createElement("option");
    option.value = value;
    option.textContent = value;
    lightFilter.appendChild(option);
  });
}

function filterPlants() {
  const groupFilterValue = document.getElementById("group-filter").value;
  const lightFilterValue = document.getElementById("light-filter").value;
  const plantSelector = document.getElementById("plant-selector");
  const resultsDiv = document.getElementById("results");

  plantSelector.innerHTML =
    '<option value="">-- یک گیاه انتخاب کنید --</option>';
  resultsDiv.innerHTML =
    '<div class="empty-state"><i class="fas fa-check-circle"></i><p>لیست گیاهان فیلتر شد. لطفاً از منوی بالا یکی را انتخاب کنید.</p></div>';

  let filteredCount = 0;

  for (const plantName in plantData) {
    const plant = plantData[plantName];
    const groupMatch =
      groupFilterValue === "all" || plant.گروه === groupFilterValue;
    const lightMatch =
      lightFilterValue === "all" || plant.نور === lightFilterValue;

    if (groupMatch && lightMatch) {
      const option = document.createElement("option");
      option.value = plantName;
      option.textContent = plantName;
      plantSelector.appendChild(option);
      filteredCount++;
    }
  }

  if (filteredCount === 0) {
    plantSelector.innerHTML = '<option value="">-- موردی یافت نشد --</option>';
  }
}

function displayPlantInfo() {
  const selector = document.getElementById("plant-selector");
  const selectedPlant = selector.value;
  const resultsDiv = document.getElementById("results");

  if (!selectedPlant) {
    return;
  }

  const info = plantData[selectedPlant];

  // شروع ساخت کارت HTML
  let htmlContent = `
                <div class="plant-card">
                    <div class="plant-header">
                        <h2>${selectedPlant}</h2>
                        <span class="badge">${info.گروه}</span>
                    </div>
                    
                    <div class="info-grid">
            `;

  // حلقه روی ویژگی‌های اصلی
  for (const key in info) {
    if (key !== "گروه" && key !== "عیب_یابی" && key !== "دانشنامه") {
      const iconClass = iconMap[key] || "fa-leaf";
      htmlContent += `
                        <div class="info-box">
                            <div class="info-icon"><i class="fas ${iconClass}"></i></div>
                            <div class="info-content">
                                <strong>${key}</strong>
                                <span>${info[key]}</span>
                            </div>
                        </div>
                    `;
    }
  }
  htmlContent += `</div>`; // بستن گرید

  // بخش عیب‌یابی و دانشنامه
  htmlContent += `<div class="extra-sections">`;

  if (info.عیب_یابی) {
    htmlContent += `
                    <div class="trouble-box">
                        <h3><i class="fas fa-first-aid"></i> عیب‌یابی فوری</h3>
                        <span>${info.عیب_یابی}</span>
                    </div>
                 `;
  }

  if (info.دانشنامه) {
    htmlContent += `
                    <div class="wiki-box">
                        <h3><i class="fas fa-book-open"></i> دانشنامه تخصصی</h3>
                        <div class="wiki-grid">
                `;
    for (const wikiKey in info.دانشنامه) {
      const iconClass = iconMap[wikiKey] || "fa-info-circle";
      htmlContent += `
                        <div class="wiki-item">
                            <div style="color:#1565c0; font-weight:bold; margin-bottom:5px;">
                                <i class="fas ${iconClass}"></i> ${wikiKey.replace(
        "_",
        " "
      )}:
                            </div>
                            <span>${info.دانشنامه[wikiKey]}</span>
                        </div>
                    `;
    }
    htmlContent += `</div></div>`;
  }

  htmlContent += `</div></div>`; // بستن بخش‌های اضافی و کارت اصلی

  resultsDiv.innerHTML = htmlContent;
}

// اجرای اولیه
window.onload = function () {
  populateFilters();
  filterPlants();
};
